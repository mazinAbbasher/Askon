<!DOCTYPE html>
{%load static%}
{% load humanize %}
<html lang="en">
  <head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Kufi+Arabic"> 

    <style>  
        

    html, body, div, span, h1, h2, h3, h4, h5, h6, p, a, button, input, textarea {
      font-family: 'Noto Kufi Arabic';
    }
  </style>
    <title>المأوى العقاريه &mdash; ملاذك الأمن</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel='icon' href="{% static "favicon.ico" %}" type='image/x-icon' sizes="16x16" />

    <link rel="stylesheet" href="{% static "fonts/icomoon/style.css" %}">

    <link rel="stylesheet" href="{% static "css/bootstrap.min.css" %}">
    <link rel="stylesheet" href="{% static "css/magnific-popup.css" %}">
    <link rel="stylesheet" href="{% static "css/jquery-ui.css" %}">
    <link rel="stylesheet" href="{% static "css/owl.carousel.min.css" %}">
    <link rel="stylesheet" href="{% static "css/owl.theme.default.min.css" %}">
    <link rel="stylesheet" href="{% static "css/bootstrap-datepicker.css" %}">
    <link rel="stylesheet" href="{% static "css/mediaelementplayer.css" %}">
    <link rel="stylesheet" href="{% static "css/animate.css" %}">
    <link rel="stylesheet" href="{% static "fonts/flaticon/font/flaticon.css" %}">
    <link rel="stylesheet" href="{% static "css/fl-bigmug-line.css" %}">
    
    
  
    <link rel="stylesheet" href="{% static "css/aos.css" %}">

    <link rel="stylesheet" href="{% static "css/style.css" %}">
    
  </head>
  <body>
  
  <div class="site-loader"></div>
  
  <div class="site-wrap">

    <div class="site-mobile-menu">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div> <!-- .site-mobile-menu -->

    <div class="site-navbar mt-4">
        <div class="container py-1">
          <div class="row align-items-center">
            <div class="col-8 col-md-8 col-lg-4">
              <h1 class="mb-0"><a href="{% url "api:home" %}" class="text-white h2 mb-0"><strong>المأوى</strong></a></h1>
            </div>
            <div class="col-4 col-md-4 col-lg-8" dir="rtl">
              <nav class="site-navigation text-right text-md-right" role="navigation">

                <div class="d-inline-block d-lg-none ml-md-0 mr-auto py-3"><a href="#" class="site-menu-toggle js-menu-toggle text-white"><span class="icon-menu h3"></span></a></div>

                <ul class="site-menu js-clone-nav d-none d-lg-block ">
                  <li class="active"><a href="{% url "api:home" %}">الرئيسيه</a></li>
                  <li><a href="{% url "api:about" %}">عن الشركه</a></li>
                  <li><a href="{% url "api:contact" %}">تواصل معنا</a></li>
                  <li><a href="{% url "api:privacy" %}">سياسة الخصوصية</a></li>
                </ul>
              </nav>
            </div>
           

        </div>
      </div>
    </div>

    <div class="slide-one-item home-slider owl-carousel">
      {% for special in specials %}
      <div class="site-blocks-cover overlay" style="background-image: url({{ special.main_image.url }});" data-aos="fade">
        <div class="container" dir="rtl">
          <div class="row align-items-center justify-content-center text-center">
            <div class="col-md-10">
              {% if special.for_sale and special.for_rent %}
              <div class="offer-type-wrap" >
                <span class="d-inline-block bg-success text-light px-3 mb-3 rounded">للبيع</span>
                <span class="text-light"> - </span>
                <span class="d-inline-block bg-primary text-light px-3 mb-3 rounded">للايجار</span>

              </div>
              {% elif special.for_sale %}
              
              <div class="offer-type-wrap" >
                <span class="d-inline-block bg-success text-light px-3 mb-3 rounded">للبيع</span>
              </div>

              {% elif special.for_rent %}
              <div class="offer-type-wrap">
                <span class="d-inline-block bg-primary text-light px-3 mb-3 rounded">للايجار</span>
              </div>
              {% endif %}
              <h4 class="property-location d-block mb-3 text-light"><span class="property-icon icon-room"></span> {{ special.region.state.name }}, {{ special.region.name }}</h4>
              {% if special.for_rent%}
            <p class="mb-3 mt-4"><strong class="h2 text-light">سعر الايجار : </strong>
            <strong class="h2 text-success font-weight-bold">{{special.price|intcomma}}</strong></p>
            {% endif %}
            {% if special.for_sale%}
            <p class="mb-5"><strong class="h2 text-light ">سعر البيع : </strong>
            <strong class="h2 text-success font-weight-bold">{{special.sale_price|intcomma}}</strong></p>
            {% endif %}
              <p><a href="{% url "api:details" pk=special.pk %}" class="btn btn-white btn-outline-white py-3 px-5 rounded-1 btn-2">عرض  التفاصيل</a></p>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}  
    </div>


    <div class="site-section site-section-sm pb-0">
      <div class="container">
        <div class="row"dir="rtl">
          <form action = "{% url "api:search" %}" method = "POST" class="form-search col-md-12" style="margin-top: -100px;">
            {% csrf_token %}
            <div class="row  align-items-end">
              <div class="col-md-3 pt-3"style = "text-align:right;">
                <label class="text-light" style="font-size:16px;">نوع العرض</label>
                <div class="select-wrap">
                  <select name="offer-types" id="offer-types" class="custom-select form-control">
                    <option value="rent">ايجار</option>
                    <option value="sale">بيع</option>
                  </select>
                </div>
              </div>
              <div class="col-md-3 pt-3"style = "text-align:right;">
                <label class="text-light"style="font-size:16px;">الفرش</label>
                <div class="select-wrap">
                  <select name="is_ready" class="custom-select form-control ">
                    <option value="ready">مفروش</option>
                    <option value="not_ready">غير مفروش</option>
                  </select>
                </div>
              </div>
              
              <div class="col-md-3 pt-3"style = "text-align:right;">
                <label class="text-light"style="font-size:16px;">الحي او المنطقه</label>
                <div class="select-wrap">
                  <select name="select-region" class="custom-select form-control ">
                  {% for region in regions%}
                    <option value="{{region.pk}}">{{region.name}}</option>
                  {% endfor %}
                  </select>
                </div>
              </div>
              <div class="col-md-3 pt-3"style = "text-align:right;">
                <label class="text-light"style="font-size:16px;">نطاق السعر</label>
                <div class="select-wrap"id="prices">
                  <select name="price-range" class="custom-select form-control ">
                    <option style="1" value="">100,000  - 400,000</option>
                    <option value="2">400,000 - 700,000</option>
                    <option value="3">700,000 - 1,000,000</option>
                    <option value="4">1,000,000 - 1,300,000</option>
                    <option value="5">1,300,000 - 1,600,000</option>
                    <option value="6">1,600,000 - 1,900,000</option>
                    <option value="7">1,900,000 - 2,200,000</option>
                    <select name="price-range" class="custom-select form-control">
                      <option value="8">1,000,000 - 10,000,000</option>
                      <option value="9">10,000,000 - 40,000,000</option>
                      <option value="10">40,000,000 - 70,000,000</option>
                      <option value="11">70,000,000 - 100,000,000</option>
                      <option value="12">100,000,000 - 130,000,000</option>
                      <option value="13">130,000,000 - 160,000,000</option>
                      <option value="14">160,000,000 - 190,000,000</option>
                        
                    
                  </select>
                </div>
              </div>
              <div class="col-md-3 pt-4">
                <input type="submit" style="font-size:21px;" class="btn btn-success text-white btn-block rounded-0" value="بحث">
              </div>
            </div>
          </form>
        </div> 
        <div class="row"  id="mycontainer">
          <div class="col-md-12 pt-3">
            <div class="view-options bg-white py-3 px-3 d-md-flex align-items-center">
             
              <div class="ml-auto d-flex align-items-center" dir="rtl">
                <div>
                  <a href="{% url 'api:home' %}#mycontainer" class="view-list px-3 border-right {% if request.resolver_match.url_name == 'home' %}active{% endif %}">الجميع</a>
                  <a href="{% url 'api:for_rent' %}#mycontainer" id="bb" class="view-list px-3 border-right {% if request.resolver_match.url_name == 'for_rent' %}active{% endif %}">للايجار</a>
                  <a href="{% url 'api:for_sale' %}#mycontainer" class="view-list px-3 border-right border-left {% if request.resolver_match.url_name == 'for_sale' %}active{% endif %}">للبيع</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="site-section site-section-sm bg-light">
      <div class="container">
        <div class="row mb-5"dir="rtl">
          {% for house in houses %}
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="property-entry h-100">
              <a href="{% url "api:details" pk=house.pk %}" class="property-thumbnail">

                {% if house.for_sale and house.for_rent %}
                <div class="offer-type-wrap" >
                  <span class="d-inline-block offer-type bg-success text-light">للبيع</span>
                  <span class="text-light"> - </span>
                  <span class="d-inline-block offer-type bg-primary">للايجار</span>

                </div>
                {% elif house.for_sale %}
                
                <div class="offer-type-wrap" >
                  <span class="d-inline-block offer-type bg-success text-light">للبيع</span>
                </div>

                {% elif house.for_rent %}
                <div class="offer-type-wrap">
                  <span class="d-inline-block offer-type bg-primary">للايجار</span>
                </div>
                {% endif %}

                {% if house.main_image %}
                
                <img src="{{ house.main_image.url }}" alt="Image" style="height:260px;width:370px;" class="img-fluid w-100">
                
                {% else %}
                
                <img src="{% static 'logo.png'%}" class="img-fluid w-100" style="height:260px;width:370px;" alt="logo">
                {% endif %}
              </a>
              <div class="p-4 property-body" style = "text-align:right;">
                {% comment %} <h4 class=""><a href="property-details.html">{{ house.region.name }} - {{ house.pk }}</a></h4 > {% endcomment %}
                <span class="property-location d-block mb-3"><span class="property-icon icon-room"></span> {{ house.region.state.name }}, {{ house.region.name }}</span>
                {% if house.for_rent%}
                  <p><strong>سعر الايجار : </strong>
                  <strong class="text-success font-weight-bold">{{house.price|intcomma}}</strong></p>
                  {% endif %}
                  {% if house.for_sale%}
                  <p><strong>سعر البيع : </strong>
                  <strong class="text-success font-weight-bold">{{house.sale_price|intcomma}}</strong></p>
                {% endif %}
                <ul class="property-specs-wrap mb-3 mb-lg-0">
                  <li>
                    <span class="property-specs border-left border-right px-3" style="font-size: 1.1rem;">الغرف</span>
                    <span class="property-specs-number border-left border-right" style="font-size: 1.1rem; display: flex;justify-content: center;">{{ house.rooms }}</span>
                  </li>
                  <li>
                    <span class="property-specs border-left pl-3" style="font-size: 1.1rem;">الفرش</span>
                    {% if house.ready %}
                    <span class="property-specs-number border-left" style="font-size: 1.1rem;display: block;text-align: center;">
                      <i class="icon-check-circle " style="color: green; "></i>
                    </span>
                    {% else %}
                    <span class="property-specs-number border-left" style="font-size: 1.1rem;display: block;text-align: center;">
                      <i class="icon-close" style="color: red; "></i>
                    </span>
                    {% endif %}
                  </li>
                  <li>
                    <span class="property-specs border-left pl-3" style="font-size: 1.1rem;">المساحه</span>
                    <span class="property-specs-number border-left pl-3" style="font-size: 1.1rem;">{{ house.area }}</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
        <div class="row">
          <div class="col-md-12 text-center">
            <div class="site-pagination">
              <!-- Always show the first page link -->
              {% if houses.paginator.num_pages > 1 %}
              <a href="?page=1#mycontainer" {% if houses.number == 1 %}class="active"{% endif %}>1</a>
              {% endif %}
              {% if houses.number > 3 and houses.paginator.num_pages > 5 %}
                <!-- Show ellipsis if the current page is beyond the first few pages -->
                <span>...</span>
              {% endif %}
        
              <!-- Show the middle pages based on current page -->
              {% for page_number in houses.paginator.page_range %}
                {% if page_number > 1 and page_number < houses.paginator.num_pages %}
                  {% if houses.number <= 3 and page_number <= 4 %}
                    <a href="?page={{ page_number }}#mycontainer" {% if page_number == houses.number %}class="active"{% endif %}>{{ page_number }}</a>
                  {% elif houses.number > 3 and houses.number < houses.paginator.num_pages|add:-2 and page_number >= houses.number|add:-1 and page_number <= houses.number|add:1 %}
                    <a href="?page={{ page_number }}#mycontainer" {% if page_number == houses.number %}class="active"{% endif %}>{{ page_number }}</a>
                  {% elif houses.number >= houses.paginator.num_pages|add:-2 and page_number >= houses.paginator.num_pages|add:-3 %}
                    <a href="?page={{ page_number }}#mycontainer" {% if page_number == houses.number %}class="active"{% endif %}>{{ page_number }}</a>
                  {% endif %}
                {% endif %}
              {% endfor %}
        
              {% if houses.number < houses.paginator.num_pages|add:-2 and houses.paginator.num_pages > 5 %}
                <!-- Show ellipsis if the current page is not near the last few pages -->
                <span>...</span>
              {% endif %}
        
              <!-- Always show the last page link if there are more than 1 page -->
              {% if houses.paginator.num_pages > 1 %}
                <a href="?page={{ houses.paginator.num_pages }}#mycontainer" {% if houses.number == houses.paginator.num_pages %}class="active"{% endif %}>{{ houses.paginator.num_pages }}</a>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
        
       <!-- start footer Area -->
       <div class="container-fluid bg-dark text-white-50 footer pt-1 mt-5" style="text-align:right;" dir="rtl">
        <div class="container pt-5">
            <div class="pb-4 mb-4" style="border-bottom: 1px solid rgba(226, 175, 24, 0.5) ;">
                <div class="row g-4">
                    <div class="col-lg-3">
                        <a href="#">
                            <h1 class="text-light mb-0">المأوى</h1>
                            <p class="text-light mb-0">ملاذك الأمن</p>
                        </a>
                    </div>
                    <div class="col-lg-6">
                      {% comment %} <div class="position-relative mx-auto">
                          <input class="form-control border-0 w-100 py-3 px-4 rounded-pill" type="number" placeholder="Your Email">
                          <button type="submit" class="btn btn-primary border-0 border-secondary py-3 px-4 position-absolute rounded-pill text-white" style="top: 0; right: 0;">Subscribe Now</button>
                      </div> {% endcomment %}
                  </div>
                    <div class="col-lg-3" >
                        <div class="d-flex justify-content-end pt-3">
                            <a class="btn btn-outline-success me-2 mx-1 btn-md-square rounded-circle" href="https://wa.me/+249127958201"><span class="icon-whatsapp"></a>                            <a class="btn btn-outline-success me-2 mx-1 btn-md-square rounded-circle" href="https://t.me/+249992025613"><span class="icon-telegram"></a>
                            <a class="btn btn-outline-success mr-1 btn-md-square rounded-circle" href="https://www.facebook.com/profile.php?id=61561040094874"><span class="icon-facebook"style="padding:2px;"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Copyright Start -->
        <div class="container-fluid copyright bg-dark py-4">
          <div class="container">
              <div class="row">
                  <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    <span class="text-light"><i class="icon-copyright text-light me-2"></i> All right reserved. Developed By <a class="border-bottom text-success" href="https://www.linkedin.com/in/mazin-abbasher-15a506232">Mazin Abbasher</a>
                    </span>
                  </div>
              </div>
          </div>
        </div>
      </div>
      <!-- Copyright End -->

  </div>
   
  

  <script src="{% static "js/jquery-3.3.1.min.js" %}"></script>
  <script src="{% static "js/jquery-migrate-3.0.1.min.js" %}"></script>
  <script src="{% static "js/jquery-ui.js" %}"></script>
  <script src="{% static "js/popper.min.js" %}"></script>
  <script src="{% static "js/bootstrap.min.js" %}"></script>
  <script src="{% static "js/owl.carousel.min.js" %}"></script>
  <script src="{% static "js/mediaelement-and-player.min.js" %}"></script>
  <script src="{% static "js/jquery.stellar.min.js" %}"></script>
  <script src="{% static "js/jquery.countdown.min.js" %}"></script>
  <script src="{% static "js/jquery.magnific-popup.min.js" %}"></script>
  <script src="{% static "js/bootstrap-datepicker.min.js" %}"></script>
  <script src="{% static "js/aos.js" %}"></script>

  <script src="{% static "js/main.js" %}"></script>
    

  <script>
    

    const selectElement = document.getElementById('offer-types');
    const greetingParagraph = document.getElementById('prices');
  
      var slected = selectElement.options[selectElement.selectedIndex].text;

      if(slected ==="ايجار"){
      greetingParagraph.innerHTML = `<select name="price-range" class="custom-select form-control ">
        <option value="1">100,000  - 400,000</option>
        <option value="2">400,000 - 700,000</option>
        <option value="3">700,000 - 1,000,000</option>
        <option value="4">1,000,000 - 1,300,000</option>
        <option value="5">1,300,000 - 1,600,000</option>
        <option value="6">1,600,000 - 1,900,000</option>
        <option value="7">1,900,000 - 2,200,000</option>
            
        
      </select>`; }
      else{
      greetingParagraph.innerHTML = `<select name="price-range" class="custom-select form-control ">
      <option value="8">1,000,000 - 10,000,000</option>
      <option value="9">10,000,000 - 40,000,000</option>
      <option value="10">40,000,000 - 70,000,000</option>
      <option value="11">70,000,000 - 100,000,000</option>
      <option value="12">100,000,000 - 130,000,000</option>
      <option value="13">130,000,000 - 160,000,000</option>
      <option value="14">160,000,000 - 190,000,000</option>`;
      }

    selectElement.addEventListener('change', function() {

      var slected = selectElement.options[selectElement.selectedIndex].text;

      if(slected ==="ايجار"){
      greetingParagraph.innerHTML = `<select name="price-range" class="custom-select form-control ">
        <option value="1">100,000  - 400,000</option>
        <option value="2">400,000 - 700,000</option>
        <option value="3">700,000 - 1,000,000</option>
        <option value="4">1,000,000 - 1,300,000</option>
        <option value="5">1,300,000 - 1,600,000</option>
        <option value="6">1,600,000 - 1,900,000</option>
        <option value="7">1,900,000 - 2,200,000</option>
            
        
      </select>`; }
      else{
      greetingParagraph.innerHTML = `<select name="price-range" class="custom-select form-control">
      <option value="8">1,000,000 - 10,000,000</option>
      <option value="9">10,000,000 - 40,000,000</option>
      <option value="10">40,000,000 - 70,000,000</option>
      <option value="11">70,000,000 - 100,000,000</option>
      <option value="12">100,000,000 - 130,000,000</option>
      <option value="13">130,000,000 - 160,000,000</option>
      <option value="14">160,000,000 - 190,000,000</option>`;
      }
    });

    window.addEventListener('DOMContentLoaded', function() {
  setTimeout(function() {

        // Check if the URL has the container ID fragment
        if (window.location.hash === '#mycontainer') {
          // Add a delay before executing the code
          var x = document.getElementById("mycontainer")
          console.log(x)
            x.scrollIntoView({ behavior: 'smooth' });
          }
        }, 300); // Delay of 1.1 seconds (1100 milliseconds)
      }
    );
    
  </script>


  </body>
</html>